1. Регистрация пользователя
Клиент отправляет name, email, password.

Пароль хешируется (например, через passlib).

Создаётся запись в БД через SQLAlchemy.

Возвращается подтверждение или сразу JWT-токен.

2. Авторизация
Клиент отправляет email и password.

Пароль проверяется на соответствие хешу.

Если всё ок — генерируется JWT-токен.

Токен возвращается клиенту и используется для доступа к защищённым маршрутам.

3. Защита маршрутов
Маршруты используют Depends(get_current_user).

get_current_user извлекает токен, декодирует его, проверяет валидность и возвращает пользователя.